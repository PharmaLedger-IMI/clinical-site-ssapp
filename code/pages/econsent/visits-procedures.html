<webc-container controller="econsent/VisitsAndProceduresController">
    <div class="container main-container">
        <div class="container flex-container">
            <breadcrumb-navigator></breadcrumb-navigator>
            <h4 class="title">Visits & Procedures</h4>
        </div>

        <main>

            <div class="common-datatable visits-procedures dt-9-col">

                <webc-datatable datasource="@visitsDataSource">

                    <div slot="header">Visits</div>
                    <div slot="header">From (weak no)</div>
                    <div slot="header">To (weak no)</div>
                    <div slot="header">Plus (days)</div>
                    <div slot="header">Minus (days)</div>
                    <div slot="header">Proposed date</div>
                    <div slot="header">Ts Acceptance</div>
                    <div slot="header">Planned Date</div>
                    <div slot="header">Actions</div>


                    <div class="cell">{{@name}}</div>
                    <div class="cell">{{@weakFrom}}</div>
                    <div class="cell">{{@weakTo}}</div>
                    <div class="cell">{{@plus}}</div>
                    <div class="cell">{{@minus}}</div>
                    
                    <div data-if="@toShowDate" class="cell">
                        <div slot="true">{{@toShowDate}}</div>
                        <div slot="false">dd/mm/yyyy</div>
                    </div>

                    <div class="cell">{{@tsAcceptance}}</div>

                    <div data-if="@toShowDate" class="cell"> 
                        <div slot="true">{{@toShowDate}}</div>
                        <div slot="false">dd/mm/yyyy</div>
                    </div>

                    <div class="cell">
                        <div data-if="@confirmed">
                            <button class="link-button view-adjust-margin" data-tag="visit:confirm" slot="false">Confirm
                                Date
                            </button>
                        </div>
                        <div data-if="@toShowDate">
                            <button class="link-button view-adjust-margin" data-tag="procedure:editDate" slot="true">
                                Reschedule
                            </button>
                            <button class="link-button view-adjust-margin" data-tag="procedure:setDate" slot="false">
                                Schedule
                            </button>
                        </div>
                        <button class="link-button view-adjust-margin" data-tag="visit:view">View</button>
                        <button class="link-button view-adjust-margin" data-tag="visit:edit">Edit</button>
                    </div>

                </webc-datatable>
            </div>

        </main>
        <div class="button-group-wrapper">
            <button data-tag="back">Back</button>
        </div>
    </div>
</webc-container>