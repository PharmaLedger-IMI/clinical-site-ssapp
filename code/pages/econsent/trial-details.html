<webc-container controller="econsent/TrialDetailsController">
    <div class="container main-container">
        <div>
            <breadcrumb-navigator></breadcrumb-navigator>
            <h4 class="title">{{@trial.id}} {{@trial.name}}</h4>
            <div data-if="@trial.recruitmentPeriod.toShowDate">>
                <h5 class="title" slot="true">Recruitment period: {{@trial.recruitmentPeriod.toShowDate}}</h5>
                <h5 class="title" slot="false">Recruitment period not set yet - Click edit to set it</h5>
            </div>
            <div data-if="@site.status">
                <h5 class="title" slot="true">Site status: {{@site.status}} </h5>
            </div>
        </div>

        <main>
            <div class="button-group-wrapper">
                <div data-if="@site.status">
                    <button data-tag="change-status">Change Status</button>
                </div>
                <button data-tag="edit-period">Edit Period</button>
                <button data-tag="add:ts">Add Trial Subject</button>
            </div>

            <h5 class="subtitle">Trial Subjects</h5>
            <header>
                <div class="row-wrapper grid-equal">
                    <label>Planned</label>
                    <label>Screened</label>
                    <label>Enrolled</label>
                    <label>Percentage of enrollment</label>
                    <label>Withdrawn</label>
                    <label>Declined Trial</label>
                    <label>Options</label>
                </div>
            </header>
            <main>
                <div class="row-wrapper grid-equal">
                    <label>{{@subjects.planned}}</label>
                    <label>{{@subjects.screened}}</label>
                    <label>{{@subjects.enrolled}}</label>
                    <label>{{@subjects.percentage}}</label>
                    <label>{{@subjects.withdrew}}</label>
                    <label>{{@subjects.declined}}</label>
                    <div class="d-flex justify-content-center align-items-center">
                        <label class="link option" data-tag="navigation:participants">Subjects</label>
                    </div>
                </div>
            </main>

            <h5 class="title">Consents (and versions released)</h5>
            <div data-for="@econsents">
                <h5 class="subtitle">{{@name}} (Type: {{@type}})</h5>
                <header>
                    <div class="row-wrapper grid-equal">
                        <label>Assent Form 1 (Adolescent >/=12)</label>
                        <label>Assent Form 1 (Adolescent <12)</label>
                        <label>Sub-study consent (Optional consent)</label>
                        <label>Adult consent</label>
                        <label>Parental consent</label>
                    </div>
                </header>
                <main data-for="@versions">
                    <div class="row-wrapper grid-equal">
                        <label>-</label>
                        <label>-</label>
                        <label>-</label>
                        <label data-tag="navigate-to-version">{{@version}} - {{@versionDateAsString}}</label>
                        <label>-</label>
                    </div>
                </main>
            </div>
        </main>

        <div class="button-group-wrapper">
            <button data-tag="navigation:back">Back</button>
        </div>
    </div>
</webc-container>