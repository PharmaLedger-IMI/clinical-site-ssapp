<webc-container controller="econsent/TrialParticipantAnswersController">

  <div class="container main-container">

    <div class="container flex-container">
      <breadcrumb-navigator></breadcrumb-navigator>
      <h2 class="main-title">Trial: {{@selected_trial.name}}</h2>
      <webc-template template="alert" data-view-model="@" class="w-100"></webc-template>
    </div>

    <div class="container justify-content-start">

      <div class="form-row">
        <div class="form-group">
          <div class="questions-tab d-flex justify-content-center">
            <button class="prom-prem-tab-buttons p-2" data-tag="new:prom">PROM Answers</button>
            <button class="prom-prem-tab-buttons p-2" data-tag="new:prem">PREM Answers</button>
          </div>
        </div>
      </div>

      <webc-switch condition="@currentTable">
        <div slot="proms">
          <div data-if="@hasPromsAnswers">
            <webc-spinner slot="loading"></webc-spinner>
            <div slot="false" class="alert alert-warning" role="alert">
              <h4 class="alert-heading">No Proms yet!</h4>
              <p>Add your first question!</p>
            </div>
            <div class="common-datatable answers-datatable dt-4-col" slot="true">
              <webc-datatable datasource="@PromsDataSource">
                <div slot="header" >Question</div>
                <div slot="header">Answer</div>
                <div slot="header">Possible Answers</div>
                <div slot="header">Date</div>

                <div class="cell">{{ @question }}</div>
                <div class="cell">{{ @answer }}</div>
                <div class="cell">{{ @possibleAnswers }}</div>
                <div class="cell">{{ @date }}</div>
              </webc-datatable>
            </div>
          </div>
        </div>
        <div slot="prems">
          <div data-if="@hasPremsAnswers">
            <webc-spinner slot="loading"></webc-spinner>
            <div slot="false" class="alert alert-warning" role="alert">
              <h4 class="alert-heading">No Prems yet!</h4>
              <p>Add your first question!</p>
            </div>
            <div class="common-datatable answers-datatable dt-4-col" slot="true">
              <webc-datatable datasource="@PremsDataSource">
                <div slot="header" >Question</div>
                <div slot="header">Answer</div>
                <div slot="header">Possible Answers</div>
                <div slot="header">Date</div>

                <div class="cell">{{ @question }}</div>
                <div class="cell">{{ @answer }}</div>
                <div class="cell">{{ @possibleAnswers }}</div>
                <div class="cell">{{ @date }}</div>
              </webc-datatable>
            </div>
          </div>
        </div>
        <div slot="none">
          <div class="alert alert-warning text-center" role="alert">
            <h4 class="alert-heading">Choose between Proms and Prems.</h4>
            <p>PROMS: Patient Reported Outcome Measures.</p>
            <p>PREMS: Patient Reported Experience Measures.</p>
          </div>
        </div>
      </webc-switch>

    </div>

  </div>
</webc-container>